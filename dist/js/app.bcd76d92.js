(function(e){function t(t){for(var r,i,n=t[0],s=t[1],a=t[2],w=0,u=[];w<n.length;w++)i=n[w],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&u.push(c[i][0]),c[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,a||[]),l()}function l(){for(var e,t=0;t<o.length;t++){for(var l=o[t],r=!0,n=1;n<l.length;n++){var s=l[n];0!==c[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=l[0]))}return e}var r={},c={app:0},o=[];function i(t){if(r[t])return r[t].exports;var l=r[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,i),l.l=!0,l.exports}i.m=e,i.c=r,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(l,r,function(t){return e[t]}.bind(null,r));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var a=0;a<n.length;a++)t(n[a]);var h=s;o.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"034f":function(e,t,l){"use strict";var r=l("85ec"),c=l.n(r);c.a},"21ae":function(e,t,l){"use strict";var r=l("4202"),c=l.n(r);c.a},4202:function(e,t,l){},"56d7":function(e,t,l){"use strict";l.r(t);l("e260"),l("e6cf"),l("cca6"),l("a79d");var r=l("2b0e"),c=l("5f5b"),o=(l("f9e3"),l("2dd8"),function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("app-goban"),l("app-controls")],1)}),i=[],n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"my-2"},[l("b-button-toolbar",{staticClass:"d-flex justify-content-center",attrs:{"aria-label":"Меню гобана"}},[l("b-button-group",{staticClass:"mr-2"},[l("b-button",{attrs:{variant:"info"},on:{click:e.newGame}},[e._v("Новая игра")]),l("b-button",{attrs:{variant:"info"},on:{click:e.revert}},[e._v("Вернуть ход")])],1),l("b-dropdown",{attrs:{variant:"info",right:"",text:"Выбрать пресет"}},[l("b-dropdown-item",{on:{click:function(t){return e.preset("atari")}}},[e._v("Атари-го")]),l("b-dropdown-item",{on:{click:function(t){return e.preset("corner")}}},[e._v("Выживание в углу")]),l("b-dropdown-item",{on:{click:function(t){return e.preset("full")}}},[e._v("Выживание по всей доске")]),l("b-dropdown-item",{on:{click:function(t){return e.preset("center")}}},[e._v("Выживание в центре")])],1)],1)],1)},s=[],a=(l("d3b7"),new r["default"]),h=a,w={name:"Controls",methods:{newGame:function(){var e=this;return new Promise((function(t){e.$bvModal.msgBoxConfirm("Вы уверены?",{okVariant:"info",cancelVariant:"outline-dark",okTitle:"Да, начать новую игру",cancelTitle:"Нет, вернуться",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&(h.$emit("new-game"),t(!0)),t(!1)}))}))},revert:function(){h.$emit("revert")},preset:function(e){this.newGame().then((function(t){t&&h.$emit("preset",e)}))}}},u=w,f=l("2877"),p=Object(f["a"])(u,n,s,!1,null,"24781a1d",null),b=p.exports,v=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"container justify-content-center"},[l("h2",{staticClass:"h2 w-100 text-center"},[e._v("Ход "+e._s(e.isBlacksMove?"черных":"белых"))]),l("p",{staticClass:"w-100 text-center"},[e._v(" Пленники: ⚫"+e._s(this.captives.black)+" ⚪"+e._s(this.captives.white)+" ")]),l("div",{staticClass:"my-3 row justify-content-center"},e._l(19,(function(t){return l("div",{key:t,staticClass:"d-flex w-auto"},e._l(19,(function(r){return l("goban-cell",{key:t+r,attrs:{move:e.isBlacksMove,row:t,cell:r,stone:e.hasStone(t,r)},on:{stone:e.placeStone}})})),1)})),0)])},d=[],k=(l("a623"),l("4de4"),l("7db0"),l("c740"),l("4160"),l("a434"),l("159b"),l("53ca")),g=l("5530"),m=l("2909"),j={atari:{black:[{row:9,cell:11},{row:10,cell:10}],white:[{row:9,cell:10},{row:10,cell:11}]},corner:{black:[{row:10,cell:1},{row:10,cell:2},{row:10,cell:3},{row:10,cell:4},{row:10,cell:5},{row:10,cell:6},{row:10,cell:7},{row:10,cell:8},{row:10,cell:9},{row:10,cell:10},{row:1,cell:10},{row:2,cell:10},{row:3,cell:10},{row:4,cell:10},{row:5,cell:10},{row:6,cell:10},{row:7,cell:10},{row:8,cell:10},{row:9,cell:10},{row:10,cell:10}]},center:{black:[{row:1,cell:2},{row:1,cell:3},{row:1,cell:4},{row:1,cell:5},{row:1,cell:6},{row:1,cell:7},{row:1,cell:8},{row:1,cell:9},{row:1,cell:10},{row:1,cell:11},{row:1,cell:12},{row:1,cell:13},{row:1,cell:14},{row:1,cell:15},{row:1,cell:16},{row:1,cell:17},{row:1,cell:18},{row:19,cell:2},{row:19,cell:3},{row:19,cell:4},{row:19,cell:5},{row:19,cell:6},{row:19,cell:7},{row:19,cell:8},{row:19,cell:9},{row:19,cell:10},{row:19,cell:11},{row:19,cell:12},{row:19,cell:13},{row:19,cell:14},{row:19,cell:15},{row:19,cell:16},{row:19,cell:17},{row:19,cell:18},{row:2,cell:1},{row:3,cell:1},{row:4,cell:1},{row:5,cell:1},{row:6,cell:1},{row:7,cell:1},{row:8,cell:1},{row:9,cell:1},{row:10,cell:1},{row:11,cell:1},{row:12,cell:1},{row:13,cell:1},{row:14,cell:1},{row:15,cell:1},{row:16,cell:1},{row:17,cell:1},{row:18,cell:1},{row:2,cell:19},{row:3,cell:19},{row:4,cell:19},{row:5,cell:19},{row:6,cell:19},{row:7,cell:19},{row:8,cell:19},{row:9,cell:19},{row:10,cell:19},{row:11,cell:19},{row:12,cell:19},{row:13,cell:19},{row:14,cell:19},{row:15,cell:19},{row:16,cell:19},{row:17,cell:19},{row:18,cell:19}]},full:{black:[{row:3,cell:3},{row:4,cell:4},{row:17,cell:3},{row:16,cell:4},{row:3,cell:17},{row:4,cell:16},{row:17,cell:17},{row:16,cell:16},{row:10,cell:4},{row:10,cell:3},{row:4,cell:10},{row:3,cell:10},{row:16,cell:10},{row:17,cell:10},{row:10,cell:16},{row:10,cell:17},{row:9,cell:10},{row:10,cell:9},{row:10,cell:11},{row:11,cell:10}]}},O=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{class:e.classes,on:{click:e.placeStone}},[e.stone?l("div",{staticClass:"stone",class:e.stone}):l("div",{staticClass:"preview",class:e.previewClass}),e.star?l("div",{staticClass:"star"}):e._e()])},_=[],y=(l("a9e3"),{name:"GobanCell.vue",props:{row:Number,cell:Number,stone:String,move:Boolean},data:function(){return{classes:["cell"],star:!1}},methods:{placeStone:function(){this.$emit("stone",this.row,this.cell)}},computed:{previewClass:function(){return this.move?"preview_black":"preview_white"}},created:function(){1===this.row?this.classes.push("top"):19===this.row&&this.classes.push("bottom"),1===this.cell?this.classes.push("left"):19===this.cell&&this.classes.push("right"),(4===this.row&&4===this.cell||4===this.row&&16===this.cell||16===this.row&&4===this.cell||16===this.row&&16===this.cell||10===this.row&&10===this.cell||10===this.row&&4===this.cell||10===this.row&&16===this.cell||4===this.row&&10===this.cell||16===this.row&&10===this.cell)&&(this.star=!0)}}),S=y,C=(l("21ae"),Object(f["a"])(S,O,_,!1,null,"65629876",null)),x=C.exports,M={name:"Goban.vue",components:{"goban-cell":x},data:function(){return{isBlacksMove:!0,black:[],white:[],captives:{black:0,white:0},currentGroup:[],log:[]}},methods:{newGame:function(){this.black=[],this.white=[],this.captives.black=0,this.captives.white=0,this.isBlacksMove=!0,this.currentGroup=[],this.log=[]},placeStone:function(e,t){var l=this;if(!this.hasStone(e,t)){var r=this.isBlacksMove?"black":"white",c=this.isBlacksMove?"white":"black";this[r].push({row:e,cell:t});var o=this.getConnectedCoords(e,t,c);if(o.forEach((function(e){l.currentGroup=[],l.isSurrounded(e.row,e.cell,c)&&l.removeGroup(l.currentGroup,c,r)})),this.currentGroup=[],this.isSurrounded(e,t,r))this[r].pop();else{if(this.log.length>6&&this.isKo())return this.black=Object(m["a"])(this.log[this.log.length-1].black),this.white=Object(m["a"])(this.log[this.log.length-1].white),void(this.captives=Object(g["a"])({},this.log[this.log.length-1].captives));this.log.push({black:Object(m["a"])(this.black),white:Object(m["a"])(this.white),captives:Object(g["a"])({},this.captives)}),this.isBlacksMove=!this.isBlacksMove}}},hasBlackStone:function(e,t){return!!this.black.filter((function(l){return l.row===e&&l.cell===t})).length},hasWhiteStone:function(e,t){return!!this.white.filter((function(l){return l.row===e&&l.cell===t})).length},hasStone:function(e,t){return this.hasWhiteStone(e,t)?"white":this.hasBlackStone(e,t)?"black":e>19||e<1||t>19||t<1?"edge":null},getConnectedCoords:function(e,t,l){return this[l].filter((function(l){return l.row===e&&l.cell===t+1||l.row===e+1&&l.cell===t||l.row===e-1&&l.cell===t||l.row===e&&l.cell===t-1}))},isSurrounded:function(e,t,l){var r=this;this.currentGroup.push({row:e,cell:t});var c=!this.hasStone(e+1,t)||!this.hasStone(e,t+1)||!this.hasStone(e-1,t)||!this.hasStone(e,t-1);if(c)return!1;var o=this.getConnectedCoords(e,t,l);return 0===o.length||o.every((function(e){return!!r.currentGroup.find((function(t){return t.row===e.row&&t.cell===e.cell}))||r.isSurrounded(e.row,e.cell,l)}))},removeGroup:function(e,t,l){var r=this;e.forEach((function(e){var c=r[t].findIndex((function(t){return t.row===e.row&&t.cell===e.cell}));r[t].splice(c,1),r.captives[l]+=1}))},isKo:function(){var e=this,t=this.log[this.log.length-2].black,l=this.log[this.log.length-2].white;if(this.black.length!==t.length||this.white.length!==l.length)return!1;for(var r=function(l){if(!t.find((function(t){return t.row===e.black[l].row&&t.cell===e.black[l].cell})))return{v:!1}},c=0;c<this.black.length;c++){var o=r(c);if("object"===Object(k["a"])(o))return o.v}for(var i=function(t){if(!l.find((function(l){return l.row===e.white[t].row&&l.cell===e.black[t].cell})))return{v:!1}},n=0;n<this.white;n++){var s=i(n);if("object"===Object(k["a"])(s))return s.v}return!0},revert:function(){this.log.length>1?(this.black=Object(m["a"])(this.log[this.log.length-2].black),this.white=Object(m["a"])(this.log[this.log.length-2].white),this.captives=Object(g["a"])({},this.log[this.log.length-2].captives)):(this.black=[],this.white=[],this.captives.white=0,this.captives.black=0),this.log.pop(),this.isBlacksMove=!this.isBlacksMove},setExercise:function(e){if(!(this.log.length||this.black.length||this.white.length)){switch(e){case"atari":this.black=Object(m["a"])(j.atari.black),this.white=Object(m["a"])(j.atari.white);break;case"corner":this.black=Object(m["a"])(j.corner.black),this.white=[],this.isBlacksMove=!1;break;case"center":this.black=Object(m["a"])(j.center.black),this.white=[],this.isBlacksMove=!1;break;case"full":this.black=Object(m["a"])(j.full.black),this.white=[],this.isBlacksMove=!1;break;default:this.black=[],this.white=[]}this.captives.white=0,this.captives.black=0,this.log.push({black:Object(m["a"])(this.black),white:Object(m["a"])(this.white),captives:Object(g["a"])({},this.captives)})}}},created:function(){var e=this;h.$on("new-game",this.newGame),h.$on("preset",(function(t){e.setExercise(t)})),h.$on("revert",this.revert)}},B=M,G=Object(f["a"])(B,v,d,!1,null,"b1e4f73a",null),$=G.exports,E={name:"App",components:{"app-goban":$,"app-controls":b}},P=E,T=(l("034f"),Object(f["a"])(P,o,i,!1,null,null,null)),J=T.exports;r["default"].config.productionTip=!1,r["default"].use(c["a"]),new r["default"]({render:function(e){return e(J)}}).$mount("#app")},"85ec":function(e,t,l){}});
//# sourceMappingURL=app.bcd76d92.js.map